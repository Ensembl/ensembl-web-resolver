{% import "shared/url.html" as url_helper %}

<div class="id-redirect-content">
    <div class="redirect-info">
        <div class="search-param">
            <span class="search-param-label">Gene</span>
            <span class="search-param-value">{{ response.stable_id }}</span>
        </div>
        {% if response.code == 404 and response.message %}
            <div class="error-message">
                {{ response.message }}
            </div>
            {{ url_helper.render_url("Go to", "https://beta.ensembl.org/species-selector") }}
        {% else %}
            {% for item in response.content %}
                <div class="genome-detail-container"
                    data-genome-browser-url="{{ item.genome_browser_url }}"
                    data-entity-viewer-url="{{ item.entity_viewer_url }}">
                    {% if item.common_name %}
                        <span class="genome-detail" tabindex="0" role="button" aria-label="Show tooltip">
                            {{ item.common_name }},
                        </span>
                    {% endif %}
                    {% if item.scientific_name %}
                        <span class="genome-detail genome-detail-margin-left italic" tabindex="0" role="button" aria-label="Show tooltip">
                            {{ item.scientific_name }},
                        </span>
                    {% endif %}

                    {% if item.type and item.is_reference %}
                      <span class="genome-detail genome-detail-margin-left" tabindex="0" role="button" aria-label="Show tooltip">
                          {{ item.type.kind }} - {{ item.type.value }}, Reference,
                      </span>
                    {% elif item.is_reference %}
                      <span class="genome-detail genome-detail-margin-left" tabindex="0" role="button" aria-label="Show tooltip">
                          Reference,
                      </span>
                    {% elif item.type %}
                      <span class="genome-detail genome-detail-margin-left" tabindex="0" role="button" aria-label="Show tooltip">
                          {{ item.type.kind }} - {{ item.type.value }},
                      </span>
                    {% endif %}

                    {% if item.assembly.name %}
                        <span class="genome-detail genome-detail-margin-left" tabindex="0" role="button" aria-label="Show tooltip">
                            {{ item.assembly.name }},
                        </span>
                    {% endif %}
                    {% if item.assembly.accession_id %}
                        <span class="genome-detail genome-detail-margin-left genome-detail-tooltip" tabindex="0" role="button" aria-label="Show tooltip">
                            {{ item.assembly.accession_id }}
                        </span>
                    {% endif %}
                </div>
            {% endfor %}
            <div id="tooltip" style="display:none; position:absolute;" role="tooltip" aria-hidden="true">
                <div class="tooltip-content">
                    <span class="tooltip-content-title">View in</span>
                    <a id="genome-browser-link" href="#" aria-label="Genome Browser link">
                        {% include "shared/_genome_browser_icon.html" %}
                    </a>
                    <a id="entity-viewer-link" href="#" aria-label="Entity Viewer link">
                        {% include "shared/_entity_viewer_icon.html" %}
                    </a>
                </div>
                <div class="tooltip-arrow"></div>
            </div>
        {% endif %}
    </div>
    <div class="redirect-text">
        <span>
            You will be redirected to the new Ensembl website, where you will find the latest genomic information
        </span>
    </div>
</div>
